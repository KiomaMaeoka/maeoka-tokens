<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cashback Autom√°tico - Maeoka Engenharia</title>
    <style>
        body { font-family: Arial, sans-serif; background: #1a3a52; color: #fff; padding: 20px; }
        .container { max-width: 400px; margin: 0 auto; background: #2c5282; padding: 20px; border-radius: 10px; }
        input, button { width: 100%; padding: 10px; margin: 10px 0; }
        button { background: #fff; color: #1a3a52; border: none; cursor: pointer; }
        #resultado { margin-top: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>üéÅ Cashback Autom√°tico</h2>
        <div>Dados da Indica√ß√£o</div>
        <input id="numeroObra" placeholder="N√∫mero da Obra">
        <input id="senhaRecompensa" type="password" placeholder="Senha da Recompensa">
        <button onclick="solicitarCashback()">Solicitar (Gr√°tis)</button>
        <div id="resultado"></div>
    </div>
    <script src="https://unpkg.com/tonweb/dist/tonweb.js"></script>
    <script>
        async function solicitarCashback() {
            const numeroObra = document.querySelector('#numeroObra').value;
            const senha = document.querySelector('#senhaRecompensa').value;

            // Simula√ß√£o de verifica√ß√£o no Google Sheets
            const valorObra = await verificarGoogleSheets(numeroObra, senha);
            if (!valorObra) {
                document.getElementById('resultado').innerText = "N√∫mero da Obra ou Senha inv√°lidos!";
                return;
            }

            const cashback = valorObra * 0.03; // 3% de cashback
            const saldoSimulado = 5000; // Simula√ß√£o de saldo da wallet5000

            if (cashback > saldoSimulado) {
                document.getElementById('resultado').innerText = "O numero que voc√™ est√° solicitando √© maior do que temos na nossa wallet semente, um email foi enviado para o Engenheiro Kioma que j√° tem acesso ao saldo solicitado e ao numero da sua wallet e ele enviar√° em at√© 24h o saldo solicitado";
                enviarEmail("O cashback que o cliente est√° solicitando no modo manual √© maior que o que tem na wallet, reponha os tokens da wallet");
            } else {
                document.getElementById('resultado').innerText = "Cashback de " + cashback + " MAEOKA enviado! (Simula√ß√£o)";
            }
        }

        // Fun√ß√£o simulada para verificar Google Sheets
        async function verificarGoogleSheets(numero, senha) {
            // Simula√ß√£o: retorna 1000 se n√∫mero for "123" e senha "456", sen√£o 0
            if (numero === "123" && senha === "456") return 1000;
            return 0;
        }

        // Fun√ß√£o simulada para enviar email
        function enviarEmail(mensagem) {
            console.log("Email enviado √†s 08:38 PM de 03/08/2025: " + mensagem);
            // Para funcionar de verdade, precisar√° de Google Apps Script
        }
    </script>
</body>
</html>
