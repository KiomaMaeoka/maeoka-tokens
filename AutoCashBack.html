async function solicitarCashback() {
    const btnClaim = document.getElementById('btnClaim');
    btnClaim.disabled = true;
    btnClaim.innerHTML = 'üìù Enviando...';
    try {
        const jettonMinter = new TonWeb.token.jetton.JettonMinter(tonweb.provider, { address: TOKEN_MAEOKA });
        const hotWallet = new TonWeb.utils.Address('UQBCBgQ4Q_WlpNo7AdlyRUqk96A_gG-iSCITFnwi7u74p6my');
        const userWallet = new TonWeb.utils.Address(enderecoUsuario);
        const hotJettonWalletAddress = await jettonMinter.getJettonWalletAddress(hotWallet);
        const hotJettonWallet = new TonWeb.token.jetton.JettonWallet(tonweb.provider, { address: hotJettonWalletAddress });
        const jettonAmount = TonWeb.utils.toNano(recompensa.tokens.toString());
        const transferBody = await hotJettonWallet.createTransferBody({
            jettonAmount, toAddress: userWallet, forwardAmount: TonWeb.utils.toNano('0.01'),
            forwardPayload: new TextEncoder().encode(`AutoCashBack ${recompensa.obra}`), responseAddress: hotWallet
        });
        const transaction = {
            validUntil: Date.now() + 5 * 60 * 1000,
            messages: [{ address: hotJettonWalletAddress.toString(), amount: TonWeb.utils.toNano('0.05').toString(), payload: TonWeb.utils.bytesToBase64(await transferBody.toBoc()) }]
        };
        await tonConnectUI.sendTransaction(transaction); // Simula envio, mas precisa de chave privada
        const response = await fetch(`${API_URL}?action=claim&obra=${recompensa.obra}&senha=${document.getElementById('senha').value}&carteira=${enderecoUsuario}`);
        const result = await response.json();
        if (result.sucesso) {
            document.getElementById('resultado').innerHTML = `<div class="sucesso">‚úÖ Cashback de ${recompensa.tokens} MAEOKA enviado!</div>`;
            document.getElementById('resultado').style.display = 'block';
            document.getElementById('claimSection').style.display = 'none';
        } else {
            throw new Error('Falha no registro');
        }
    } catch (error) {
        document.getElementById('resultado').innerHTML = `<div class="erro">‚ùå Erro: ${error.message}</div>`;
        document.getElementById('resultado').style.display = 'block';
        btnClaim.disabled = false;
        btnClaim.innerHTML = 'Solicitar';
    }
}
